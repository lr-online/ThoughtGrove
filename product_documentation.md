
# 《拙园》产品设计文档

## 1. 项目愿景与预期

### 1.1 项目背景
《拙园》灵感来源于中国传统园林文化，"拙"意为质朴自然，代表这个系统追求的是一种不加雕饰的真实思想记录方式。

### 1.2 核心愿景
创建一个**数字化的私人思想园林**，作为用户内心世界的栖息地，用于培育思想、记录成长和沉淀智慧。

### 1.3 预期目标
- 为用户提供一个**结构化记录日常随笔**的平台
- 通过AI辅助功能**促进思考深度和广度**
- 建立个人**知识管理生态系统**，实现思想的成长和演变
- 创造一个**安全且私密的空间**，鼓励真实表达和内省

### 1.4 用户价值
- **思想整理**：将零散想法系统化
- **自我对话**：与AI园丁互动，获得不同视角
- **成长追踪**：观察自己思想和认知的演变
- **知识连接**：发现思想间隐藏的联系

## 2. 功能规划

### 2.1 核心功能

#### 2.1.1 随笔记录系统
- **基础编辑器**：支持Markdown格式，多媒体内容嵌入
- **随笔管理**：创建、编辑、删除、查询随笔
- **版本历史**：记录随笔修改历史，支持版本回溯

#### 2.1.2 AI园丁助手
- **内容分析**：分析随笔内容，提供反馈和建议
- **互动对话**：基于随笔内容与用户进行有意义的对话
- **思维拓展**：提出相关问题，促进思考深化

#### 2.1.3 标签系统
- **自定义标签**：用户手动创建和管理标签
- **AI智能标签**：自动分析内容并建议相关标签
- **标签组织**：支持标签分类、合并和重构

### 2.2 扩展功能

#### 2.2.1 知识花园培育
- **思想种子系统**：
  - 快速记录短小的思想火花
  - 思想种子状态管理（种子→幼苗→成熟）
  - 定期提醒"浇灌"未发展的思想种子
- **知识连接网络**：
  - 自动识别随笔间的主题关联
  - 可视化知识关联图谱
  - 智能推荐相关随笔

#### 2.2.2 反思与成长机制
- **定期回顾**：
  - 自动生成周/月/季/年度思考摘要
  - 识别时间段内的核心主题和情感趋势
- **思想整合**：
  - AI辅助将分散随笔整合为系统性思考
  - 提供内容整合建议和框架
- **成长报告**：
  - 分析思考深度和广度的变化
  - 追踪关注主题的演变

#### 2.2.3 创新功能
- **思想时间胶囊**：
  - 创建特定时间才能查看的随笔
  - 设置解锁条件和提醒
- **认知偏见提醒**：
  - 识别内容中可能存在的认知偏见
  - 提供多角度思考建议
- **创意激发工具**：
  - 基于历史内容生成个性化思考提示
  - 提供创意激发问题

## 3. 敏捷迭代计划

### 阶段一：基础系统搭建（4周）
- **第1-2周**：
  - 建立基础项目架构
  - 实现数据模型和API设计
  - 开发基础随笔创建和管理功能
- **第3-4周**：
  - 实现标签系统
  - 开发基础搜索功能
  - 集成简单的AI互动功能

### 阶段二：AI园丁功能实现（3周）
- **第5-6周**：
  - 与OpenAI API集成
  - 实现内容分析功能
  - 开发AI对话界面
- **第7周**：
  - 改进AI响应质量
  - 实现智能标签建议功能
  - 用户反馈调整

### 阶段三：知识花园培育（4周）
- **第8-9周**：
  - 实现思想种子系统
  - 开发定期提醒机制
- **第10-11周**：
  - 实现知识连接功能
  - 开发简单的关联可视化

### 阶段四：反思与成长机制（3周）
- **第12-13周**：
  - 实现定期回顾生成
  - 开发思想整合功能
- **第14周**：
  - 实现成长报告分析
  - 用户反馈调整

### 阶段五：创新功能实现（3周）
- **第15-16周**：
  - 实现思想时间胶囊
  - 开发认知偏见提醒功能
- **第17周**：
  - 实现创意激发工具
  - 集成测试和功能优化

### 阶段六：系统完善与优化（3周）
- **第18-19周**：
  - 全面系统测试
  - 性能优化
- **第20周**：
  - 数据备份与恢复功能
  - 发布正式版本

## 4. 技术架构

### 4.1 技术栈选择
- **后端**：FastAPI
- **前端**：React
- **数据库**：MongoDB
- **AI服务**：OpenAI SDK (API)
- **身份认证**：JWT
- **部署**：Docker容器

### 4.2 系统架构

```
                 ┌──────────────┐
                 │   React 前端  │
                 └───────┬──────┘
                         │ HTTP/WebSocket
                         ▼
┌────────────────────────────────────────┐
│             FastAPI 后端               │
├────────────┬────────────┬──────────────┤
│  核心 API   │  定时任务   │  WebSocket   │
└─────┬──────┴──────┬─────┴───────┬──────┘
      │             │             │
      ▼             ▼             ▼
┌──────────┐  ┌──────────┐  ┌─────────────┐
│ MongoDB  │  │OpenAI SDK│  │其他第三方服务 │
└──────────┘  └──────────┘  └─────────────┘
```

### 4.3 数据模型（MongoDB Collections）

- **users**: 用户信息
- **notes**: 随笔内容
- **tags**: 标签管理
- **seeds**: 思想种子
- **reviews**: 定期回顾
- **connections**: 知识连接
- **time_capsules**: 时间胶囊
- **system_logs**: 系统日志

### 4.4 API 设计（主要端点）

- **/api/auth**: 认证相关
- **/api/notes**: 随笔管理
- **/api/tags**: 标签管理
- **/api/seeds**: 思想种子
- **/api/garden**: 知识花园功能
- **/api/reviews**: 回顾与反思
- **/api/ai**: AI助手交互
- **/api/capsules**: 时间胶囊管理

## 5. Roadmap

### 2024年第2季度：项目启动与基础功能
- **4月**：项目初始化，技术架构搭建
- **5月**：基础随笔系统，标签功能
- **6月**：AI园丁功能上线

### 2024年第3季度：扩展功能实现
- **7月**：思想种子系统，知识连接功能
- **8月**：定期回顾与思想整合功能
- **9月**：成长报告分析功能

### 2024年第4季度：创新功能与完善
- **10月**：思想时间胶囊，认知偏见提醒
- **11月**：创意激发工具，系统性能优化
- **12月**：全面测试，数据备份功能，1.0版本发布

### 2025年及以后：可能的发展方向
- 更高级的知识管理功能
- 高级数据分析与可视化
- 可选的分享与协作功能
- 多端同步支持

---

## 结语

《拙园》项目旨在创建一个**数字化的私人思想园林**，通过技术手段辅助用户组织思想、促进成长。本文档提供了清晰的产品定位、功能规划和实施路径，将作为开发过程中的指导文件。项目将采用敏捷方法，通过迭代优化不断贴近用户需求，打造一个真正有助于思想培育的数字空间。
