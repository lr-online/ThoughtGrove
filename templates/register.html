{% extends "layout.html" %}

{% block title %}注册 - 拙园{% endblock %}
{% block description %}注册拙园，开始记录和整理您的思考{% endblock %}

{% block styles %}
<style>
  .register-container {
    padding: 3rem 1rem;
    display: flex;
    justify-content: center;
  }
  
  .register-card {
    max-width: 450px;
    width: 100%;
  }
  
  .register-header {
    text-align: center;
    margin-bottom: 1.5rem;
  }
  
  .register-title {
    font-size: 1.8rem;
    margin-bottom: 0.5rem;
  }
  
  .form-footer {
    margin-top: 1.5rem;
    text-align: center;
  }
  
  .password-requirements {
    font-size: 0.8rem;
    color: var(--color-text-tertiary);
    margin-top: 0.25rem;
  }
</style>
{% endblock %}

{% block content %}
<div class="register-container">
  <div class="card register-card">
    <div class="card-header">
      <h1 class="card-title register-title" style="text-align: center;">创建您的账号</h1>
    </div>
    
    <!-- 显示注册错误信息 -->
    <div id="error-message" class="error-message hidden"></div>
    
    <form id="register-form" class="card-body">
      <div class="form-group">
        <label for="username" class="form-label">用户名</label>
        <input type="text" id="username" name="username" class="form-control" required>
      </div>
      
      <div class="form-group">
        <label for="email" class="form-label">电子邮箱</label>
        <input type="email" id="email" name="email" class="form-control" required>
      </div>
      
      <div class="form-group">
        <label for="password" class="form-label">密码</label>
        <input type="password" id="password" name="password" class="form-control" required>
        <small class="password-requirements">密码至少需要8个字符，包含大小写字母和数字</small>
      </div>
      
      <div class="form-group">
        <label for="confirm-password" class="form-label">确认密码</label>
        <input type="password" id="confirm-password" name="confirm-password" class="form-control" required>
      </div>
      
      <div class="form-group">
        <input type="checkbox" id="terms" name="terms" required>
        <label for="terms">我已阅读并同意<a href="/terms" target="_blank">使用条款</a>和<a href="/privacy" target="_blank">隐私政策</a></label>
      </div>
      
      <button type="submit" class="btn w-full">注册</button>
    </form>
    
    <div class="card-footer" style="text-align: center;">
      <p>已有账号？<a href="/login">立即登录</a></p>
    </div>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script>
  document.addEventListener('DOMContentLoaded', function() {
    // 检查用户是否已登录
    const token = localStorage.getItem('access_token');
    if (token) {
      window.location.href = '/';
    }
  });
</script>
{% endblock %} 